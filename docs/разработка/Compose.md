Используется в [[Android]] вместо xml верстки
Компилятор Compose - это плагин для компилятора [[Kotlin]]. А это значит, что, в отличие от плагина для kapt/ksp, он
может[модифицировать текущий код](https://kotlinlang.org/docs/ksp-why-ksp.html#comparison-to-kotlinc-compiler-plugins), а не просто
генерировать новый. Во время компиляции он заменяет composable-функции новыми, в которые он добавляет вспомогательные конструкции и
параметры, среди которых особенно важен`$composer`
Компилятор Compose добавляет вызовы методов`$composer`в начале и в конце сгенерированной composable-функции. Эти методы начинают и
заканчивают группу, которую можно представить как узел дерева, которое строит`Compose`

```Kotlin
@Composable
fun User($composer: Composer) {
    $composer.startRestartGroup() // Начало группы 
// Тело функции 
    $composer.endRestartGroup() // Конец группы
}
```

Еще composable добавляет параметр `$changed`, это просто число типа Int, которое является битовой картой, в которой биты отвечают за
информацию об аргументах composable-функции, их изменении

```Kotlin
// Аргументы Composable-функции после работы компилятора Compose
@Composable
fun Header(text: String, $composer: Composer<*>, $changed: Int)
```

Если в родительской composable-функции изменились некоторые параметры, а некоторые остались прежние, то информация о сравнении передаётся
дочерним функциям через параметр`$changed`, чтобы они не делали лишних сравнений. Сами функции сравнивают только те аргументы, в которых не
уверен родитель, или если аргументы установлены по умолчанию.
Убить весь смысл сравнения могут мутабельные аргументы — объекты, которые способны изменяться (изменять свои данные). Чтобы решить эту
проблему, разработчики Compose решили разделить все типы на стабильные и нестабильные. Если все аргументы функции стабильные и не
изменились, то рекомпозиция пропускается, иначе придётся перезапускать эту функцию снова.

### Фазы Compose

1. **Composition**: какой UI отобразить. Compose запускает composable-функции и создаёт описание UI
2. **Layout**: как расположить UI. Состоит из двух шагов: измерение (measurement) и размещение (placement). Элементы лейаута измеряют и
   располагают себя и свои дочерние элементы в двумерных координатах
3. **Drawing**: как отрисовать UI. Элементы отрисовывают себя на Canvas

Эти три фазы выполняются практически для каждого кадра, но для повышения производительности Compose может пропускать некоторые фазы, если
данные для них не поменялись

![[Composable Фазы.png]]

**композиция (composition)**— построение дерева composable-функций**рекомпозиция (recomposition)**— обновление этого дерева при изменении
данных

https://habr.com/ru/companies/ozontech/articles/742854/
